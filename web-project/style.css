/* ========================================
   Apple 官网风格主题 - 极简、优雅、现代
   ======================================== */

/* 
   :root 选择器：CSS 变量（自定义属性）的定义区域
   这些变量可以在整个样式表中重复使用，方便统一管理和修改主题颜色
   使用 var(--变量名) 来引用这些变量
*/
:root {
  /* 背景颜色：浅灰色背景，类似 Apple 官网的浅色主题 */
  --bg-light: #f5f5f7;
  
  /* 卡片背景：白色，用于卡片、按钮等元素的背景 */
  --card-light: #ffffff;
  
  /* 主要文本颜色：深灰色，用于正文内容 */
  --text-primary: #1d1d1f;
  
  /* 次要文本颜色：中灰色，用于辅助信息、提示文字 */
  --text-secondary: #86868b;
  
  /* 浅色文本：白色，用于深色背景上的文字 */
  --text-light: #ffffff;
  
  /* 主色调：Apple 蓝色，用于按钮、链接等强调元素 */
  --primary: #0071e3;
  
  /* 主色调悬停状态：稍深的蓝色，鼠标悬停时使用 */
  --primary-hover: #0077ed;
  
  /* 边框颜色：浅灰色，用于分割线、边框等 */
  --border: #d2d2d7;
  
  /* 圆角半径：12px，让元素看起来更柔和现代 */
  --radius: 12px;
  
  /* 大阴影：用于卡片等元素，营造层次感 */
  --shadow-lg: 0 20px 60px rgba(0, 0, 0, 0.12);
  
  /* 字体族：系统字体栈，优先使用系统默认字体，保证在不同设备上显示最佳效果 */
  --font-sans: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
  
  /* 过渡动画：所有属性变化都有 0.3 秒的平滑过渡效果 */
  --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* 
   通用选择器 *：选择页面上的所有元素
   这是一个 CSS 重置（reset），清除浏览器默认样式，确保跨浏览器一致性
*/
* {
  /* 清除所有元素的外边距和内边距 */
  margin: 0;
  padding: 0;
  
  /* 
     box-sizing: border-box：改变盒模型计算方式
     默认是 content-box（宽度 = 内容宽度）
     border-box（宽度 = 内容宽度 + 内边距 + 边框）
     这样设置 padding 和 border 不会让元素超出预期宽度
  */
  box-sizing: border-box;
}

/* 
   html 和 body 标签的样式
   设置页面基础高度和清除默认边距
*/
html, body {
  /* height: 100%：让页面占满整个视口高度 */
  height: 100%;
  
  /* 清除默认边距 */
  margin: 0;
  padding: 0;
}

/* 
   body 标签：页面主体的样式
   这里定义了整个页面的基础样式
*/
body {
  /* 使用之前定义的字体族变量 */
  font-family: var(--font-sans);
  
  /* 使用之前定义的背景色变量 */
  background: var(--bg-light);
  
  /* 使用之前定义的主要文本颜色变量 */
  color: var(--text-primary);
  
  /* 行高：1.6 倍字体大小，让文字行距更舒适，提高可读性 */
  line-height: 1.6;
  
  /* 基础字体大小：16px 是浏览器默认大小，也是可读性最佳的大小 */
  font-size: 16px;
  
  /* 字体粗细：400 是正常粗细（normal） */
  font-weight: 400;
  
  /* 
     字体平滑：让字体在屏幕上显示更清晰
     -webkit-font-smoothing：WebKit 浏览器（Chrome、Safari）的字体平滑
     antialiased：启用抗锯齿，让字体边缘更平滑
  */
  -webkit-font-smoothing: antialiased;
  
  /* 
     -moz-osx-font-smoothing：Firefox 在 macOS 上的字体平滑
     grayscale：使用灰度抗锯齿
  */
  -moz-osx-font-smoothing: grayscale;
  
  /* 字母间距：-0.3px 让字母稍微紧凑一点，看起来更现代 */
  letter-spacing: -0.3px;
}

/* 
   容器类：.container
   用于包裹页面主要内容，限制最大宽度并居中显示
*/
.container {
  /* 最大宽度：1200px，在大屏幕上不会无限宽，保持可读性 */
  max-width: 1200px;
  
  /* 
     margin: 0 auto：上下边距为 0，左右自动（auto）
     这会让容器在页面中水平居中
  */
  margin: 0 auto;
  
  /* 内边距：0，可以根据需要调整 */
  padding: 0;
  
  /* 宽度：100%，在小屏幕上占满整个宽度 */
  width: 100%;
  
  /* 高度：100vh（viewport height），占满整个视口高度 */
  height: 100vh;
}

/* 
   h1 标签：一级标题样式
   用于页面主标题，使用渐变文字效果
*/
h1 {
  /* 字体大小：72px，非常大的标题 */
  font-size: 72px;
  
  /* 字体粗细：700（bold），加粗显示 */
  font-weight: 700;
  
  /* 字母间距：-0.5px，让大标题更紧凑 */
  letter-spacing: -0.5px;
  
  /* 下边距：32px，标题和下方内容的间距 */
  margin-bottom: 32px;
  
  /* 
     渐变背景：从主色调到青色，135deg 是渐变角度（从左上到右下）
     这个背景会应用到文字上
  */
  background: linear-gradient(135deg, var(--primary), #00d4ff);
  
  /* 
     -webkit-background-clip: text：让背景只显示在文字形状内
     这是实现渐变文字效果的关键
  */
  -webkit-background-clip: text;
  
  /* 
     -webkit-text-fill-color: transparent：让文字本身透明
     这样就能看到背景渐变了
  */
  -webkit-text-fill-color: transparent;
  
  /* 标准属性（非 WebKit 浏览器） */
  background-clip: text;
  
  /* 动画：淡入并向下移动，持续 0.8 秒，使用 ease 缓动函数 */
  animation: fadeInDown 0.8s ease;
}

/* 
   h2 标签：二级标题样式
   用于页面子标题
*/
h2 {
  /* 字体大小：36px，比 h1 小但仍然是较大的标题 */
  font-size: 36px;
  
  /* 字体粗细：700（bold） */
  font-weight: 700;
  
  /* 字母间距：-0.5px */
  letter-spacing: -0.5px;
  
  /* 下边距：16px */
  margin-bottom: 16px;
}

/* 
   a 标签：超链接样式
   所有链接的基础样式
*/
a {
  /* 链接颜色：使用主色调 */
  color: var(--primary);
  
  /* 去除下划线 */
  text-decoration: none;
  
  /* 添加过渡效果，颜色变化更平滑 */
  transition: var(--transition);
}

/* 
   a:hover：链接悬停状态
   当鼠标悬停在链接上时的样式
*/
a:hover {
  /* 悬停时使用稍深的蓝色 */
  color: var(--primary-hover);
}

/* 
   按钮基础样式：.btn
   所有按钮都继承这个基础样式
*/
.btn {
  /* 
     display: inline-flex：行内弹性布局
     让按钮可以像行内元素一样排列，但内部可以使用 flex 布局
  */
  display: inline-flex;
  
  /* 
     align-items: center：垂直居中对齐
     让按钮内的内容（文字、图标）垂直居中
  */
  align-items: center;
  
  /* 
     justify-content: center：水平居中对齐
     让按钮内的内容水平居中
  */
  justify-content: center;
  
  /* gap: 8px：子元素之间的间距（如果有多个子元素，如文字+图标） */
  gap: 8px;
  
  /* 内边距：上下 12px，左右 24px */
  padding: 12px 24px;
  
  /* 圆角：使用之前定义的圆角变量 */
  border-radius: var(--radius);
  
  /* 去除边框 */
  border: none;
  
  /* 继承父元素的字体族 */
  font-family: inherit;
  
  /* 字体大小：16px */
  font-size: 16px;
  
  /* 字体粗细：500（中等粗细） */
  font-weight: 500;
  
  /* 字母间距：-0.3px */
  letter-spacing: -0.3px;
  
  /* 鼠标指针：pointer（手型），提示用户可以点击 */
  cursor: pointer;
  
  /* 过渡效果：所有属性变化都有平滑过渡 */
  transition: var(--transition);
  
  /* 去除默认的焦点轮廓（我们会在 hover 时自定义样式） */
  outline: none;
}

/* 
   主要按钮样式：.btn-primary
   用于重要的操作按钮（如"添加"、"提交"等）
*/
.btn-primary {
  /* 背景色：使用主色调（蓝色） */
  background: var(--primary);
  
  /* 文字颜色：白色，在蓝色背景上清晰可见 */
  color: var(--text-light);
  
  /* 阴影：轻微的蓝色阴影，增加立体感 */
  box-shadow: 0 2px 8px rgba(0, 113, 227, 0.2);
}

/* 主要按钮悬停状态 */
.btn-primary:hover {
  /* 悬停时背景色变深 */
  background: var(--primary-hover);
  
  /* 阴影加深，让按钮看起来"浮起来"了 */
  box-shadow: 0 4px 16px rgba(0, 113, 227, 0.3);
  
  /* 向上移动 1px，增强"浮起"的视觉效果 */
  transform: translateY(-1px);
}

/* 主要按钮按下状态 */
.btn-primary:active {
  /* 按下时恢复原位，模拟按下效果 */
  transform: translateY(0);
}

/* 
   幽灵按钮样式：.btn-ghost
   用于次要操作，透明背景，带边框
*/
.btn-ghost {
  /* 透明背景 */
  background: transparent;
  
  /* 文字颜色：使用主要文本颜色 */
  color: var(--text-primary);
  
  /* 边框：1.5px 实线，使用边框颜色变量 */
  border: 1.5px solid var(--border);
}

/* 幽灵按钮悬停状态 */
.btn-ghost:hover {
  /* 悬停时添加淡蓝色背景 */
  background: rgba(0, 113, 227, 0.05);
  
  /* 边框颜色变为主色调 */
  border-color: var(--primary);
  
  /* 文字颜色也变为主色调 */
  color: var(--primary);
  
  /* 同样向上移动，增强交互感 */
  transform: translateY(-1px);
}

/* 
   首页卡片：.home-card
   包含欢迎文字和操作按钮的容器
*/
.home-card {
  /* 高度：100%，占满父容器高度 */
  height: 100%;
  
  /* 
     display: flex：使用弹性布局（Flexbox）
     Flexbox 是 CSS3 的强大布局方式，可以轻松实现居中对齐
  */
  display: flex;
  
  /* 
     flex-direction: column：垂直方向排列子元素
     让标题和按钮垂直排列
  */
  flex-direction: column;
  
  /* 
     align-items: center：水平居中对齐
     让子元素在水平方向上居中
  */
  align-items: center;
  
  /* 
     justify-content: center：垂直居中对齐
     让子元素在垂直方向上居中
     配合 height: 100%，实现整个卡片在页面中居中
  */
  justify-content: center;
  
  /* 文本对齐：居中对齐 */
  text-align: center;
  
  /* 内边距：上下 40px，左右 20px */
  padding: 40px 20px;
}

.home-card p {
  font-size: 20px;
  color: var(--text-secondary);
  margin-bottom: 48px;
  max-width: 600px;
  line-height: 1.5;
  animation: fadeInUp 0.8s ease 0.2s both;
}

.home-actions {
  display: flex;
  gap: 16px;
  justify-content: center;
  flex-wrap: wrap;
  animation: fadeInUp 0.8s ease 0.4s both;
}

.home-actions a {
  display: inline-block;
}

/* TODO 应用 */
.todo-app {
  max-width: 720px;
  margin: 60px auto;
  background: var(--card-light);
  border-radius: var(--radius);
  box-shadow: var(--shadow-lg);
  padding: 40px;
}

.todo-app h2 {
  font-size: 32px;
  margin-bottom: 32px;
  color: var(--text-primary);
}

.controls {
  display: flex;
  gap: 12px;
  flex-wrap: wrap;
  align-items: center;
  margin-bottom: 24px;
}

/* 
   控制区域输入框样式
   统一所有输入框的设计语言
   与编辑输入框保持一致的视觉风格
*/
.controls input[type="text"] {
  /* 
     flex: 1 - 占据可用空间
     让输入框可以自适应宽度
  */
  flex: 1;
  
  /* 
     最小宽度：200px
     确保在小屏幕上也有足够的输入空间
  */
  min-width: 200px;
  
  /* 
     内边距：上下 12px，左右 16px
     与编辑输入框保持一致的内边距比例
  */
  padding: 12px 16px;
  
  /* 
     边框：1.5px 实线，使用边框颜色变量
     与编辑输入框保持一致
  */
  border: 1.5px solid var(--border);
  
  /* 
     圆角：使用统一的圆角变量
     与整体设计保持一致
  */
  border-radius: var(--radius);
  
  /* 
     背景色：浅色背景
     使用 CSS 变量保持一致性
  */
  background: var(--bg-light);
  
  /* 
     文字颜色：主要文本颜色
  */
  color: var(--text-primary);
  
  /* 
     字体族：继承父元素
  */
  font-family: inherit;
  
  /* 
     字体大小：16px
     与编辑输入框保持一致
  */
  font-size: 16px;
  
  /* 
     过渡效果：使用统一的过渡变量
     所有属性变化都有平滑过渡
  */
  transition: var(--transition);
  
  /* 
     去除默认的焦点轮廓
     我们使用自定义的焦点样式
  */
  outline: none;
}

/* 
   控制区域输入框焦点状态
   与编辑输入框的焦点样式保持一致
*/
.controls input[type="text"]:focus {
  /* 
     去除默认的焦点轮廓
  */
  outline: none;
  
  /* 
     边框颜色变为主色调
     提供清晰的焦点指示
  */
  border-color: var(--primary);
  
  /* 
     焦点阴影：主色调的淡色阴影
     与编辑输入框保持一致
  */
  box-shadow: 0 0 0 4px rgba(0, 113, 227, 0.1);
}

/* 
   控制区域按钮样式
   统一使用 .btn 和 .btn-primary 类
   如果 HTML 中直接使用 button，这里作为备用样式
*/
.controls button {
  /* 
     使用与 .btn 基础样式一致的属性
     确保所有按钮遵循统一的设计语言
  */
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 12px 24px;
  border: none;
  border-radius: var(--radius);
  background: var(--primary);
  color: var(--text-light);
  font-family: inherit;
  font-size: 16px;
  font-weight: 500;
  letter-spacing: -0.3px;
  cursor: pointer;
  transition: var(--transition);
  outline: none;
}

.controls button:hover {
  background: var(--primary-hover);
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(0, 113, 227, 0.2);
}

#sortSelect {
  padding: 10px 12px;
  border: 1.5px solid var(--border);
  border-radius: var(--radius);
  background: var(--bg-light);
  color: var(--text-primary);
  font-family: inherit;
  font-size: 14px;
  cursor: pointer;
  transition: var(--transition);
}

#sortSelect:focus {
  outline: none;
  border-color: var(--primary);
}

/* 
   ========================================
   筛选按钮样式（重构后）
   ========================================
   
   重新设计的筛选按钮，使用背景色变化 + 边框强调的设计方案
   激活状态：主色调背景和边框
   未激活状态：浅色背景和边框
*/

/* 
   筛选按钮容器
   gap: 10px - 按钮之间的间距（8-12px 范围内，视觉平衡）
*/
.filters {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
}

/* 
   筛选按钮基础样式
   使用 CSS 变量保持与整体设计系统一致
*/
/* 
   筛选按钮基础样式（未激活状态）
   确保与激活状态有明确的视觉区分
*/
.filter-btn {
  /* 
     内边距：确保最小触摸目标尺寸 44x44px
     上下 12px + 字体行高 + 上下边框 ≈ 44px
     左右 20px 提供足够的点击区域
  */
  padding: 12px 20px;
  
  /* 
     边框：1.5px 实线，使用边框颜色变量
     未激活状态使用浅色边框，与背景形成对比
  */
  border: 1.5px solid var(--border);
  
  /* 
     圆角：使用统一的圆角变量
     与整体设计系统保持一致
  */
  border-radius: var(--radius);
  
  /* 
     背景色：未激活状态使用浅灰色背景
     使用具体的颜色值确保显示正确，与蓝色激活状态形成明显对比
  */
  background: #f5f5f7 !important;
  
  /* 
     文字颜色：深灰色文字
     确保在浅色背景上清晰可读，与白色文字形成明显对比
  */
  color: #1d1d1f !important;
  
  /* 
     字体大小：15px（14-16px 范围内）
     确保文字清晰可读，与整体设计一致
  */
  font-size: 15px;
  
  /* 
     字体粗细：500（中等粗细）
     与整体按钮样式保持一致
  */
  font-weight: 500;
  
  /* 
     字母间距：-0.3px
     与整体设计系统保持一致
  */
  letter-spacing: -0.3px;
  
  /* 
     鼠标指针：pointer（手型）
     提示用户可以点击
  */
  cursor: pointer;
  
  /* 
     过渡效果：使用统一的过渡变量
     所有属性变化都有平滑过渡
  */
  transition: var(--transition);
  
  /* 
     字体族：继承父元素
     与整体设计保持一致
  */
  font-family: inherit;
  
  /* 
     去除默认的焦点轮廓
     我们会在 hover 和 active 状态自定义样式
  */
  outline: none;
}

/* 
   筛选按钮悬停状态（未激活按钮）
   当鼠标悬停在未激活的按钮上时
   注意：不能覆盖 .active 状态的样式
*/
.filter-btn:not(.active):hover {
  /* 
     背景色加深：从浅色变为稍深的浅色
     提供视觉反馈，提示用户可以点击
  */
  background: #e8e8e8 !important;
  
  /* 
     边框颜色变为主色调
     与激活状态形成视觉关联
  */
  border-color: #0071e3 !important;
  
  /* 
     文字颜色变为主色调（深蓝色）
     确保在浅色背景上清晰可见，与激活状态的白色文字形成对比
  */
  color: #0071e3 !important;
  
  /* 
     轻微向上移动：1px
     增强"浮起"的视觉效果
  */
  transform: translateY(-1px);
}

/* 
   筛选按钮激活状态
   当前选中的筛选按钮
   使用 !important 确保覆盖任何其他样式
*/
.filter-btn.active {
  /* 
     背景色：使用主色调（蓝色）
     与未激活状态的浅灰色形成明显对比
     使用具体颜色值确保显示正确
  */
  background: #0071e3 !important;
  
  /* 
     边框：主色调边框
     与背景色形成统一的视觉强调
  */
  border-color: #0071e3 !important;
  
  /* 
     文字颜色：白色
     在主色调背景上清晰可见，与未激活状态的深灰色形成明显对比
  */
  color: #ffffff !important;
  
  /* 
     阴影：轻微的蓝色阴影
     增加立体感，让激活状态更明显
  */
  box-shadow: 0 2px 8px rgba(0, 113, 227, 0.2);
  
  /* 
     轻微向上移动：1px
     与悬停效果保持一致，增强视觉层次
  */
  transform: translateY(-1px);
}

/* 
   筛选按钮激活状态的悬停效果
   当鼠标悬停在已激活的按钮上时
*/
.filter-btn.active:hover {
  /* 
     背景色变深：使用主色调的悬停色
     提供额外的视觉反馈
  */
  background: var(--primary-hover);
  
  /* 
     阴影加深：让按钮看起来更"浮起"
     增强交互感
  */
  box-shadow: 0 4px 16px rgba(0, 113, 227, 0.3);
}

/* 任务列表 */
.todo-list {
  list-style: none;
  margin: 24px 0;
  border-top: 1px solid var(--border);
}

.todo-item {
  display: flex;
  gap: 12px;
  align-items: center;
  padding: 16px 0;
  border-bottom: 1px solid var(--border);
  transition: var(--transition);
}

.todo-item:hover {
  background: var(--bg-light);
  padding: 16px 12px;
  border-radius: 8px;
  margin: 0 -12px;
  padding-left: 12px;
}

.todo-item input[type="checkbox"] {
  width: 20px;
  height: 20px;
  cursor: pointer;
  accent-color: var(--primary);
  flex-shrink: 0;
}

.todo-item .text {
  flex: 1;
  word-break: break-word;
  color: var(--text-primary);
  font-size: 16px;
}

.todo-item.done .text {
  color: var(--text-secondary);
  text-decoration: line-through;
}

.todo-item .actions {
  display: flex;
  gap: 8px;
  opacity: 0;
  transition: var(--transition);
}

.todo-item:hover .actions {
  opacity: 1;
}

/* 
   小按钮样式（统一设计语言）
   用于任务列表中的操作按钮（编辑、删除等）
   使用与 .btn-ghost 类似的设计，但尺寸更小
*/
.small-btn {
  /* 
     内边距：较小的尺寸，适合列表项中的操作按钮
  */
  padding: 6px 12px;
  
  /* 
     边框：1.5px 实线，使用边框颜色变量
     与整体设计保持一致
  */
  border: 1.5px solid var(--border);
  
  /* 
     背景：透明
     与 .btn-ghost 保持一致
  */
  background: transparent;
  
  /* 
     文字颜色：主要文本颜色
  */
  color: var(--text-primary);
  
  /* 
     圆角：6px（稍小于标准按钮的 12px）
     适合较小的按钮
  */
  border-radius: 6px;
  
  /* 
     字体大小：13px
     适合较小的按钮
  */
  font-size: 13px;
  
  /* 
     字体粗细：500（中等粗细）
     与整体按钮样式保持一致
  */
  font-weight: 500;
  
  /* 
     字母间距：-0.3px
     与整体设计保持一致
  */
  letter-spacing: -0.3px;
  
  /* 
     鼠标指针：pointer（手型）
  */
  cursor: pointer;
  
  /* 
     过渡效果：使用统一的过渡变量
  */
  transition: var(--transition);
  
  /* 
     字体族：继承父元素
  */
  font-family: inherit;
  
  /* 
     去除默认的焦点轮廓
  */
  outline: none;
}

/* 
   小按钮悬停状态
   与 .btn-ghost:hover 保持一致的设计语言
*/
.small-btn:hover {
  /* 
     边框颜色变为主色调
  */
  border-color: var(--primary);
  
  /* 
     文字颜色变为主色调
  */
  color: var(--primary);
  
  /* 
     添加淡蓝色背景
  */
  background: rgba(0, 113, 227, 0.05);
  
  /* 
     轻微向上移动
  */
  transform: translateY(-1px);
}

/* 底部信息 */
.meta {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding-top: 16px;
  border-top: 1px solid var(--border);
  color: var(--text-secondary);
  font-size: 14px;
}

.meta a {
  color: var(--primary);
}

/* 编辑输入 */
/* 
   ========================================
   编辑输入框样式（优化后）
   ========================================
   
   用于任务编辑状态的输入框
   具有清晰的视觉边界和流畅的过渡动画
*/
.edit-input {
  /* 
     内边距：上下 8px，左右 12px
     提供舒适的输入体验
  */
  padding: 8px 12px;
  
  /* 
     边框：1.5px 实线，主色调
     清晰的视觉边界，表明这是编辑状态
  */
  border: 1.5px solid var(--primary);
  
  /* 
     圆角：6px
     与整体设计保持一致
  */
  border-radius: 6px;
  
  /* 
     背景色：淡蓝色背景
     使用 rgba 实现半透明效果，突出编辑状态
  */
  background: rgba(0, 113, 227, 0.05);
  
  /* 
     文字颜色：主要文本颜色
     确保文字清晰可读
  */
  color: var(--text-primary);
  
  /* 
     字体族：继承父元素
     与整体设计保持一致
  */
  font-family: inherit;
  
  /* 
     字体大小：16px
     确保文字清晰可读
  */
  font-size: 16px;
  
  /* 
     宽度：100%
     占满可用空间
  */
  width: 100%;
  
  /* 
     过渡动画：250ms 的淡入和缩放效果
     所有属性变化都有平滑过渡
     使用 cubic-bezier 缓动函数，让动画更自然
  */
  transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
  
  /* 
     初始状态：轻微缩放和透明度
     为进入动画做准备
  */
  transform: scale(0.98);
  opacity: 0;
  
  /* 
     动画：淡入并放大
     编辑状态进入时的动画效果
  */
  animation: editInputFadeIn 0.25s cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

/* 
   编辑输入框进入动画
   从轻微缩放和透明到完全显示
*/
@keyframes editInputFadeIn {
  from {
    transform: scale(0.98);
    opacity: 0;
  }
  to {
    transform: scale(1);
    opacity: 1;
  }
}

/* 
   编辑输入框焦点状态
   当输入框获得焦点时
*/
.edit-input:focus {
  /* 
     去除默认的焦点轮廓
     我们使用自定义的阴影效果
  */
  outline: none;
  
  /* 
     焦点阴影：主色调的淡色阴影
     提供清晰的焦点指示
  */
  box-shadow: 0 0 0 3px rgba(0, 113, 227, 0.1);
  
  /* 
     边框颜色稍微加深
     增强焦点状态的视觉反馈
  */
  border-color: var(--primary-hover);
}

/* 
   编辑按钮容器
   包含保存和取消按钮的容器
*/
.edit-actions {
  /* 
     使用 flexbox 布局
     让按钮水平排列
  */
  display: flex;
  
  /* 
     按钮之间的间距：6px
     较小的间距，适合紧凑的编辑状态
  */
  gap: 6px;
  
  /* 
     上边距：6px
     与输入框保持适当但紧凑的距离
  */
  margin-top: 6px;
  
  /* 
     过渡动画：250ms
     与输入框动画保持一致
  */
  transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
  
  /* 
     初始状态：轻微缩放和透明度
     为进入动画做准备
  */
  transform: scale(0.98);
  opacity: 0;
  
  /* 
     动画：淡入并放大
     与输入框同时出现
  */
  animation: editInputFadeIn 0.25s cubic-bezier(0.4, 0, 0.2, 1) 0.1s forwards;
}

/* 
   编辑状态下的按钮样式
   专门为编辑状态的保存和取消按钮设计
   尺寸更小，更协调，避免文字换行
*/
.edit-actions .btn {
  /* 
     内边距：较小的尺寸
     上下 6px，左右 12px，适合紧凑的编辑状态
  */
  padding: 6px 12px;
  
  /* 
     字体大小：13px
     较小的字体，避免换行，与 .small-btn 保持一致
  */
  font-size: 13px;
  
  /* 
     圆角：6px
     稍小于标准按钮，适合较小的按钮
  */
  border-radius: 6px;
  
  /* 
     防止文字换行
     确保按钮文字在一行显示
  */
  white-space: nowrap;
  
  /* 
     最小宽度：自动
     让按钮根据内容自适应，但不会太小
  */
  min-width: auto;
  
  /* 
     字体粗细：500（中等粗细）
     与整体按钮样式保持一致
  */
  font-weight: 500;
}

/* 
   编辑状态下保存按钮的样式
   使用主色调，但尺寸更小
*/
.edit-actions .btn-primary {
  /* 
     背景色：主色调
     与标准 .btn-primary 保持一致
  */
  background: var(--primary);
  background: #0071e3; /* 备用值 */
  
  /* 
     文字颜色：白色
  */
  color: var(--text-light);
  color: #ffffff; /* 备用值 */
  
  /* 
     边框：无边框
  */
  border: none;
  
  /* 
     阴影：轻微的阴影
     增加立体感
  */
  box-shadow: 0 1px 4px rgba(0, 113, 227, 0.2);
}

/* 
   编辑状态下保存按钮的悬停效果
*/
.edit-actions .btn-primary:hover {
  /* 
     背景色变深
  */
  background: var(--primary-hover);
  background: #0077ed; /* 备用值 */
  
  /* 
     阴影加深
  */
  box-shadow: 0 2px 8px rgba(0, 113, 227, 0.3);
  
  /* 
     轻微向上移动
  */
  transform: translateY(-1px);
}

/* 
   编辑状态下取消按钮的样式
   使用幽灵按钮样式，但尺寸更小
*/
.edit-actions .btn-ghost {
  /* 
     背景：透明
  */
  background: transparent;
  
  /* 
     文字颜色：主要文本颜色
  */
  color: var(--text-primary);
  color: #1d1d1f; /* 备用值 */
  
  /* 
     边框：1.5px 实线
  */
  border: 1.5px solid var(--border);
  border: 1.5px solid #d2d2d7; /* 备用值 */
}

/* 
   编辑状态下取消按钮的悬停效果
*/
.edit-actions .btn-ghost:hover {
  /* 
     背景色：淡蓝色
  */
  background: rgba(0, 113, 227, 0.05);
  
  /* 
     边框颜色变为主色调
  */
  border-color: var(--primary);
  border-color: #0071e3; /* 备用值 */
  
  /* 
     文字颜色变为主色调
  */
  color: var(--primary);
  color: #0071e3; /* 备用值 */
  
  /* 
     轻微向上移动
  */
  transform: translateY(-1px);
}

/* 数独容器 */
.sudoku-container {
  max-width: 680px;
  margin: 60px auto;
  background: var(--card-light);
  padding: 20px;
  border-radius: var(--radius);
  box-shadow: var(--shadow-lg);
}

.sudoku-grid {
  display: grid;
  grid-template-columns: repeat(9, 1fr);
  gap: 0;
  background: #ffffff;
  border-radius: 6px;
  overflow: hidden;
  border: 3px solid #333;
}

.sudoku-cell {
  position: relative;
  width: 100%;
  padding-top: 100%;
  background: #fff;
  border-right: 1px solid #e0e0e0;
  border-bottom: 1px solid #e0e0e0;
}

.sudoku-cell:nth-child(3n) {
  border-right: 3px solid #8c8c8c;
}

.sudoku-cell input {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  border: 0;
  text-align: center;
  font-size: 18px;
  font-weight: 600;
  background: transparent;
  -moz-appearance: textfield;
}

/* 辅助类 */
.link-home {
  color: var(--primary);
  text-decoration: none;
  font-weight: 500;
  transition: var(--transition);
}

.link-home:hover {
  color: var(--primary-hover);
  text-decoration: underline;
}

/* 
   ========================================
   动画定义
   ========================================
   
   @keyframes：定义 CSS 动画的关键帧
   可以创建自定义动画效果
*/

/* 
   淡入并向下移动动画：fadeInDown
   用于标题等元素的进入动画
*/
@keyframes fadeInDown {
  /* from：动画开始时的状态 */
  from {
    /* 透明度：0（完全透明） */
    opacity: 0;
    
    /* 向上移动 20px（因为是从上往下淡入） */
    transform: translateY(-20px);
  }
  
  /* to：动画结束时的状态 */
  to {
    /* 透明度：1（完全不透明） */
    opacity: 1;
    
    /* 回到原始位置 */
    transform: translateY(0);
  }
}

/* 
   淡入并向上移动动画：fadeInUp
   用于按钮等元素的进入动画
*/
@keyframes fadeInUp {
  /* 动画开始：透明，位置在下方 20px */
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  
  /* 动画结束：不透明，回到原始位置 */
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* 
   ========================================
   响应式设计（媒体查询）
   ========================================
   
   @media：根据屏幕尺寸应用不同的样式
   让网页在不同设备上都能良好显示
   
   max-width: 768px：当屏幕宽度小于等于 768px 时应用这些样式
   通常 768px 是平板和手机的分界点
*/
@media (max-width: 768px) {
  h1 {
    font-size: 42px;
  }

  h2 {
    font-size: 28px;
  }

  .controls {
    flex-direction: column;
  }

  .controls input[type="text"] {
    width: 100%;
    min-width: unset;
  }

  .home-actions {
    flex-direction: column;
    width: 100%;
    gap: 12px;
  }

  .home-actions a {
    width: 100%;
  }

  .home-actions .btn {
    width: 100%;
  }

  .todo-app {
    padding: 24px;
    margin: 40px 16px;
  }
}